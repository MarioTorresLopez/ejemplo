jQuery(document).ready(function ($) {
    
    $("#div_desplegar1").slideUp(10);
    $("#btn_desplegar1").click(function () {

        var id_documento = document.getElementById("btn_desplegar1").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar1").slideDown(500);
        $("#btn_desplegar1").fadeOut(500);
        
    });
    
    
    $("#div_desplegar2").slideUp(10);
    $("#btn_desplegar2").click(function () {

        var id_documento = document.getElementById("btn_desplegar2").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar2").slideDown(500);
        $("#btn_desplegar2").fadeOut(500);
        
    });
    
    
    $("#div_desplegar3").slideUp(10);
    $("#btn_desplegar3").click(function () {

        var id_documento = document.getElementById("btn_desplegar3").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar3").slideDown(500);
        $("#btn_desplegar3").fadeOut(500);
        
    });
    
    
    $("#div_desplegar4").slideUp(10);
    $("#btn_desplegar4").click(function () {

        var id_documento = document.getElementById("btn_desplegar4").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar4").slideDown(500);
        $("#btn_desplegar4").fadeOut(500);
        
    });
    
    
    $("#div_desplegar5").slideUp(10);
    $("#btn_desplegar5").click(function () {

        var id_documento = document.getElementById("btn_desplegar5").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar5").slideDown(500);
        $("#btn_desplegar5").fadeOut(500);
        
    });
    
    
    $("#div_desplegar6").slideUp(10);
    $("#btn_desplegar6").click(function () {

        var id_documento = document.getElementById("btn_desplegar6").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar6").slideDown(500);
        $("#btn_desplegar6").fadeOut(500);
        
    });
    
    
    $("#div_desplegar7").slideUp(10);
    $("#btn_desplegar7").click(function () {

        var id_documento = document.getElementById("btn_desplegar7").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar7").slideDown(500);
        $("#btn_desplegar7").fadeOut(500);
        
    });
    
    
    $("#div_desplegar8").slideUp(10);
    $("#btn_desplegar8").click(function () {

        var id_documento = document.getElementById("btn_desplegar8").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar8").slideDown(500);
        $("#btn_desplegar8").fadeOut(500);
        
    });
    
    
    $("#div_desplegar9").slideUp(10);
    $("#btn_desplegar9").click(function () {

        var id_documento = document.getElementById("btn_desplegar9").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar9").slideDown(500);
        $("#btn_desplegar9").fadeOut(500);
        
    });
    
    
    $("#div_desplegar10").slideUp(10);
    $("#btn_desplegar10").click(function () {

        var id_documento = document.getElementById("btn_desplegar10").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar10").slideDown(500);
        $("#btn_desplegar10").fadeOut(500);
        
    });
    
    
    $("#div_desplegar11").slideUp(10);
    $("#btn_desplegar11").click(function () {

        var id_documento = document.getElementById("btn_desplegar11").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar11").slideDown(500);
        $("#btn_desplegar11").fadeOut(500);
        
    });
    
    
    $("#div_desplegar12").slideUp(10);
    $("#btn_desplegar12").click(function () {

        var id_documento = document.getElementById("btn_desplegar12").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar12").slideDown(500);
        $("#btn_desplegar12").fadeOut(500);
        
    });
    
    
    $("#div_desplegar13").slideUp(10);
    $("#btn_desplegar13").click(function () {

        var id_documento = document.getElementById("btn_desplegar13").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        buscarDatos(id_folio, id_documento, id_usu_rec);

        $("#div_desplegar13").slideDown(500);
        $("#btn_desplegar13").fadeOut(500);
        
    });
    
    
    $("#btn_aceptado1").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado1").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario1").prop('disabled', true);
        $("#btn_aceptado1").prop('disabled', true);
        
    });

    $("#div_comentario1").slideUp(10);
    $("#btn_comentario1").click(function (event) {
        
        $("#btn_aceptado1").prop('disabled', true);
        $("#div_comentario1").slideDown(500);
        
        $("#btn_enviarCom1").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_plan_pers").innerText;
            var id_documento = document.getElementById("btn_comentario1").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado2").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado2").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);
        
        $("#btn_comentario2").prop('disabled', true);
        $("#btn_aceptado2").prop('disabled', true);
        
    });

    $("#div_comentario2").slideUp(10);
    $("#btn_comentario2").click(function (event) {
        
        $("#btn_aceptado2").prop('disabled', true);
        $("#div_comentario2").slideDown(500);
        
        $("#btn_enviarCom2").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_acta_cons").innerText;
            var id_documento = document.getElementById("btn_comentario2").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

   
    $("#btn_aceptado3").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado3").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario3").prop('disabled', true);
        $("#btn_aceptado3").prop('disabled', true);
        
    });

    $("#div_comentario3").slideUp(10);
    $("#btn_comentario3").click(function (event) {
        
        $("#btn_aceptado3").prop('disabled', true);
        $("#div_comentario3").slideDown(500);
        
        $("#btn_enviarCom3").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_inventario").innerText;
            var id_documento = document.getElementById("btn_comentario3").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado4").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado4").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario4").prop('disabled', true);
        $("#btn_aceptado4").prop('disabled', true);
        
    });

    $("#div_comentario4").slideUp(10);
    $("#btn_comentario4").click(function (event) {
        
        $("#btn_aceptado4").prop('disabled', true);
        $("#div_comentario4").slideDown(500);
        
        $("#btn_enviarCom4").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_reglamento").innerText;
            var id_documento = document.getElementById("btn_comentario4").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado5").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado5").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario5").prop('disabled', true);
        $("#btn_aceptado5").prop('disabled', true);
        
    });

    $("#div_comentario5").slideUp(10);
    $("#btn_comentario5").click(function (event) {
        
        $("#btn_aceptado5").prop('disabled', true);
        $("#div_comentario5").slideDown(500);
        
        $("#btn_enviarCom5").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_embl_sello").innerText;
            var id_documento = document.getElementById("btn_comentario5").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado6").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado6").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario6").prop('disabled', true);
        $("#btn_aceptado6").prop('disabled', true);
        
    });

    $("#div_comentario6").slideUp(10);
    $("#btn_comentario6").click(function (event) {
        
        $("#btn_aceptado6").prop('disabled', true);
        $("#div_comentario6").slideDown(500);
        
        $("#btn_enviarCom6").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_prot_civil").innerText;
            var id_documento = document.getElementById("btn_comentario6").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado7").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado7").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario7").prop('disabled', true);
        $("#btn_aceptado7").prop('disabled', true);
        
    });

    $("#div_comentario7").slideUp(10);
    $("#btn_comentario7").click(function (event) {
        
        $("#btn_aceptado7").prop('disabled', true);
        $("#div_comentario7").slideDown(500);
        
        $("#btn_enviarCom7").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_cons_segu").innerText;
            var id_documento = document.getElementById("btn_comentario7").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado8").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado8").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario8").prop('disabled', true);
        $("#btn_aceptado8").prop('disabled', true);
        
    });

    $("#div_comentario8").slideUp(10);
    $("#btn_comentario8").click(function (event) {
        
        $("#btn_aceptado8").prop('disabled', true);
        $("#div_comentario8").slideDown(500);
        
        $("#btn_enviarCom8").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_croq_inst").innerText;
            var id_documento = document.getElementById("btn_comentario8").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
           
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado9").click(function (event) {
       
       var id_documento = document.getElementById("btn_aceptado9").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario9").prop('disabled', true);
        $("#btn_aceptado9").prop('disabled', true);
       
    });

    $("#div_comentario9").slideUp(10);
    $("#btn_comentario9").click(function (event) {
        
        $("#btn_aceptado9").prop('disabled', true);
        $("#div_comentario9").slideDown(500);
        
        $("#btn_enviarCom9").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_plano_arqu").innerText;
            var id_documento = document.getElementById("btn_comentario9").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado10").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado10").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario10").prop('disabled', true);
        $("#btn_aceptado10").prop('disabled', true);
        
    });

    $("#div_comentario10").slideUp(10);
    $("#btn_comentario10").click(function (event) {
        
        $("#btn_aceptado10").prop('disabled', true);
        $("#div_comentario10").slideDown(500);
        
        $("#btn_enviarCom10").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_regi_peri").innerText;
            var id_documento = document.getElementById("btn_comentario10").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado11").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado11").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario11").prop('disabled', true);
        $("#btn_aceptado11").prop('disabled', true);
        
    });

    $("#div_comentario11").slideUp(10);
    $("#btn_comentario11").click(function (event) {
        
        $("#btn_aceptado11").prop('disabled', true);
        $("#div_comentario11").slideDown(500);
        
        $("#btn_enviarCom11").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_cedu_prof").innerText;
            var id_documento = document.getElementById("btn_comentario11").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado12").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado12").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario12").prop('disabled', true);
        $("#btn_aceptado12").prop('disabled', true);
        
    });

    $("#div_comentario12").slideUp(10);
    $("#btn_comentario12").click(function (event) {
        
        $("#btn_aceptado12").prop('disabled', true);
        $("#div_comentario12").slideDown(500);
        
        $("#btn_enviarCom12").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_dict_suelo").innerText;
            var id_documento = document.getElementById("btn_comentario12").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });

    
    $("#btn_aceptado13").click(function (event) {
        
        var id_documento = document.getElementById("btn_aceptado13").value;
        var id_folio = document.getElementById("id_folio").value;
        var id_usu_rec = document.getElementById("id_usu_rec").value;

        enviarDatos(id_folio, id_documento, id_usu_rec);

        $("#btn_comentario13").prop('disabled', true);
        $("#btn_aceptado13").prop('disabled', true);
        
    });

    $("#div_comentario13").slideUp(10);
    $("#btn_comentario13").click(function (event) {
        
        $("#btn_aceptado13").prop('disabled', true);
        $("#div_comentario13").slideDown(500);
        
        $("#btn_enviarCom13").click(function (event) {
            
            var id_folio = document.getElementById("id_folio").value;
            var observacion = document.getElementById("come_desc_inst").innerText;
            var id_documento = document.getElementById("btn_comentario13").value;
            var id_usu_rec = document.getElementById("id_usu_rec").value;
            
            enviarObservacion(id_folio, observacion, id_documento, id_usu_rec);
            
        });
        
    });
     $("#botonBit1").click(function (event) {

        var idinstitucion = document.getElementById("idinstitucion").value;
        var comentario = document.getElementById("comentario_bitacora").innerText;
        var elem = $('#idinstitucion').val();

        enviarBitacora(idinstitucion, comentario);
        
        
        
        swal({
            title: "Cometario",
            text: "Su comentario ha sido capturado.",
            type: "success"
        },
                function () {
                     location.href = base_url()+"analista/gestion_institucion/detalle_plantel/"+elem;
                    
                });
                        

    });
    
    
    function enviarDatos(id_folio, id_documento, id_usu_rec) {

        $.ajax({

            url: '../enviar_checklist',
            type: 'POST',
            data: {
                id_folio: id_folio,
                id_documento: id_documento,
                id_usu_rec: id_usu_rec
            },
            success: function (respuesta) {
                if (respuesta === "OK") {
                    alert('Insertado');
                    //location.href = "../gestion_institucion";
                }
            },
            error: function () {
                alert('error');
            }

        });
        
    }
    
    
    function buscarDatos(id_folio, id_documento, id_usu_rec) {

        $.ajax({

            url: '../buscar_checklist',
            type: 'POST',
            data: {
                id_folio: id_folio,
                id_documento: id_documento,
                id_usu_rec: id_usu_rec
            }

        }).done(function (respuesta) {

            if (respuesta.estatus === '1') {
                var iddocsol = respuesta.iddocsol;
                var estatus = respuesta.estatus;
                validarBoton(iddocsol, estatus);
            } else {
                validarBoton(0);
            }

        });

    }
    
    
    function validarBoton(iddocsol, estatus) {

        if (iddocsol === '58') {
            if (estatus === '1') {
                $("#btn_comentario1").prop('disabled', true);
                $("#btn_aceptado1").prop('disabled', true);
            }
        }
        
        if (iddocsol === '3') {
            if (estatus === '1') {
                $("#btn_comentario2").prop('disabled', true);
                $("#btn_aceptado2").prop('disabled', true);
            }
        }
        
        if (iddocsol === '59') {
            if (estatus === '1') {
                $("#btn_comentario3").prop('disabled', true);
                $("#btn_aceptado3").prop('disabled', true);
            }
        }
        
        if (iddocsol === '14') {
            if (estatus === '1') {
                $("#btn_comentario4").prop('disabled', true);
                $("#btn_aceptado4").prop('disabled', true);
            }
        }
        
        if (iddocsol === '60') {
            if (estatus === '1') {
                $("#btn_comentario5").prop('disabled', true);
                $("#btn_aceptado5").prop('disabled', true);
            }
        }
        
        if (iddocsol === '13') {
            if (estatus === '1') {
                $("#btn_comentario6").prop('disabled', true);
                $("#btn_aceptado6").prop('disabled', true);
            }
        }
        
        if (iddocsol === '9') {
            if (estatus === '1') {
                $("#btn_comentario7").prop('disabled', true);
                $("#btn_aceptado7").prop('disabled', true);
            }
        }
        
        if (iddocsol === '61') {
            if (estatus === '1') {
                $("#btn_comentario8").prop('disabled', true);
                $("#btn_aceptado8").prop('disabled', true);
            }
        }
        
        if (iddocsol === '62') {
            if (estatus === '1') {
                $("#btn_comentario9").prop('disabled', true);
                $("#btn_aceptado9").prop('disabled', true);
            }
        }
        
        if (iddocsol === '12') {
            if (estatus === '1') {
                $("#btn_comentario10").prop('disabled', true);
                $("#btn_aceptado10").prop('disabled', true);
            }
        }
        
        if (iddocsol === '11') {
            if (estatus === '1') {
                $("#btn_comentario11").prop('disabled', true);
                $("#btn_aceptado11").prop('disabled', true);
            }
        }
        
        if (iddocsol === '15') {
            if (estatus === '1') {
                $("#btn_comentario12").prop('disabled', true);
                $("#btn_aceptado12").prop('disabled', true);
            }
        }
        
        if (iddocsol === '63') {
            if (estatus === '1') {
                $("#btn_comentario13").prop('disabled', true);
                $("#btn_aceptado13").prop('disabled', true);
            }
        }
        
    }
    
    
    function enviarObservacion(id_folio, observacion, id_documento, id_usu_rec) {

        $.ajax({

            url: '../enviar_observacion',
            type: 'POST',
            data: {
                id_folio: id_folio,
                observacion: observacion,
                id_documento: id_documento,
                id_usu_rec: id_usu_rec
            },
            success: function (respuesta) {
                if (respuesta === "OK") {
                    alert('Insertado');
                    //location.href = "../gestion_institucion";
                }
            },
            error: function () {
                alert('error');
            }

        });

    }
     function enviarBitacora(idinstitucion, comentario) {

        $.ajax({

            url: base_url()+'analista/gestion_institucion/enviar_observacion_bitacora_plantel',
            type: 'POST',
            data: {
                idinstitucion: idinstitucion,
                comentario: comentario
            },
            success: function (respuesta) {
                
            },
            error: function () {
                alert('error');
            }

        });

    }

});


